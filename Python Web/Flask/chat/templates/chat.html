<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8">
		<title>聊天吧</title>
	</head>
	<style type="text/css">
		#chat {
			margin: 0 auto;
			width: 240px;
			height: 400px;
			border: 1px solid #e2e;
			margin-top: 200px;
			text-align: center;
		}
	</style>
	<body>
		<div id="chat">
			<img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=895835173,2748625270&fm=26&gp=0.jpg">
				<p>请输入聊天内容: <input type="text" name="text" id="query" value="" placeholder="请输入聊天内容" /></p>
            <button id="send">发送</button>
            <div>回复的内容:<textarea  id="resp" value="" rows="5" ></textarea></div>

		</div>
    			<script type="text/javascript">
                let query = document.getElementById("query");
                let resp = document.getElementById("resp");
                let send = document.getElementById("send");
                    send.addEventListener("click", ()=>{
                        console.log(query.value);
                        fetch("http://127.0.0.1:80/api/res?query="+query.value).then(data => {
                         return data.text();
                     }).then(res => {
                         console.log(res);
                         resp.value = res;
                     })
                })
			</script>
	</body>
</html>
